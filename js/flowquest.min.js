var flowquest=function(t){function e(){var e=n(this,f.OptLblData),a=n(this,f.OptValData);return t.questions[c].answer=e,s(this,a),this}function s(e,s){o(e.parentNode);e.innerHTML;if(console.log(t.questions[c].options[s]),!t.questions[c].options[s].nextQ)return a();var n=t.questions[c].options[s].nextQ,i=t.questions[n]?!0:!1;i?(q(n),c=n):a()}function a(){var e,s,a,n="";for(question in t.questions)t.questions[question].answer&&(n+=t.questions[question].answer+"|");console.log(n,p.patterns[n]),p.patterns[n]&&p.patterns[n].content?(e=p.patterns[n].content,s=p.patterns[n].position?p.patterns[n].position:"unknown"):(e="You are too unique - we have no data that matches your answers.",s="unknown"),console.log("Flowquest finished! Results:"),console.log(n),console.log(s,e),a=p.patterns[n].classes||"";l({elParent:r,newTag:f.ATag,newElID:f.ATagId,elClasses:a,sText:s+": "+e})}function n(t,e){return t&&e?t.getAttribute(e):console.log("No element or attribute specified!")}function o(t){return t.classList.contains(f.QTagActiveClass)&&(t.classList.remove(f.QTagActiveClass),t.classList.add(f.QTagInactiveClass)),t}function i(t){return t&&document.querySelectorAll(t)?document.getElementById(t):console.log("no selector")}function l(t){var e=t.elParent,s=t.newTag,a=t.newElID,n=document.createElement(s),o=t.elClasses,i=t.attribs||null,l=0;if(n.id=a,t.sText){var r=document.createTextNode(t.sText);n.appendChild(r)}if(o&&(n.className=o),i)for(var u,c=i.length;c>l;l++)u=document.createAttribute(i[l].aName),u.value=i[l].aVal,n.setAttributeNode(u);return e.appendChild(n),n}{var r,u=t.questions,c=1,p=t.answers,g=t.containerID,d=t.usePushState,f={QTag:"div",QTagPrefix:"fq-question-",QTagBaseClass:"fq-question",QTagActiveClass:"fq-active",QTagInactiveClass:"fq-inactive",OptTag:"a",OptPrefix:"option-",OptClass:"fq-option",OptLblData:"data-answer",OptValData:"data-val",ATag:"div",ATagId:"answer-result"},v=function(t){console.log("starting..."),q(c),d&&window.addEventListener("popstate",function(t){var e=t.state;console.log(e),q(e.qid)})},T=function(t,e){var s=e.question,a=s.replace(" ","-"),n={qid:t,data:e};history.pushState(n,s,a)},q=function(t){var s=u[t],a=f.QTag,n=f.QTagPrefix+t,o=f.QTagBaseClass+" "+f.QTagActiveClass,i=t+". "+s.question,c=f.OptTag,p=f.OptPrefix,g=f.OptClass,v=f.OptLblData,q=f.OptValData,w=s.options,C=l({elParent:r,newTag:a,newElID:n,sText:i,elClasses:o});for(var h in w)sOptionClasses=w[h].classes||"",l({elParent:C,newTag:c,newElID:n+"-"+p+h,elClasses:g+" "+sOptionClasses,attribs:[{aName:v,aVal:w[h].val},{aName:q,aVal:h}],sText:w[h].label}).addEventListener("click",e,!1);d&&T(t,s)};!function(){r=i(g),v()}()}};