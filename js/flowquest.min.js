var flowquest=function(e){function t(){var t=n(this,f.OptLblData),a=n(this,f.OptValData);return e.questions[c].answer=t,s(this,a),this}function s(t,s){o(t.parentNode);t.innerHTML;if(console.log(e.questions[c].options[s]),!e.questions[c].options[s].nextQ)return a();var n=e.questions[c].options[s].nextQ,i=e.questions[n]?!0:!1;i?(q(n),c=n):a()}function a(){var t,s,a,n="";for(question in e.questions)e.questions[question].answer&&(n+=e.questions[question].answer+"|");console.log(n,p.patterns[n]),p.patterns[n]&&p.patterns[n].content?(t=p.patterns[n].content,s=p.patterns[n].position?p.patterns[n].position:"unknown"):(t="You are too unique - we have no data that matches your answers.",s="unknown"),console.log("Flowquest finished! Results:"),console.log(n),console.log(s,t),a=p.patterns[n].classes||"";l({elParent:r,newTag:f.ATag,newElID:f.ATagId,elClasses:a,sHTML:s+": "+t})}function n(e,t){return e&&t?e.getAttribute(t):console.log("No element or attribute specified!")}function o(e){return e.classList.contains(f.QTagActiveClass)&&(e.classList.remove(f.QTagActiveClass),e.classList.add(f.QTagInactiveClass)),e}function i(e){return e&&document.querySelectorAll(e)?document.getElementById(e):console.log("no selector")}function l(e){var t=e.elParent,s=e.newTag,a=e.newElID,n=document.createElement(s),o=e.elClasses,i=e.attribs||null,l=0;if(n.id=a,e.sHTML)n.innerHTML=e.sHTML;else if(e.sText){var r=document.createTextNode(e.sText);n.appendChild(r)}if(o&&(n.className=o),i)for(var u,c=i.length;c>l;l++)u=document.createAttribute(i[l].aName),u.value=i[l].aVal,n.setAttributeNode(u);return t.appendChild(n),n}var r,u=e.questions,c=1,p=e.answers,g=e.containerID,d=e.usePushState,f={QTag:"div",QTagPrefix:"fq-question-",QTagBaseClass:"fq-question",QTagActiveClass:"fq-active",QTagInactiveClass:"fq-inactive",OptTag:"a",OptPrefix:"option-",OptClass:"fq-option",OptLblData:"data-answer",OptValData:"data-val",ATag:"div",ATagId:"answer-result"},T=function(){console.log("starting..."),q(c),d&&window.addEventListener("popstate",function(e){var t=e.state;console.log(t),q(t.qid)})},v=function(e,t){var s=t.question,a=s.replace(" ","-"),n={qid:e,data:t};history.pushState(n,s,a)},q=function(e){var s=u[e],a=f.QTag,n=f.QTagPrefix+e,o=f.QTagBaseClass+" "+f.QTagActiveClass,i=e+". "+s.question,c=f.OptTag,p=f.OptPrefix,g=f.OptClass,T=f.OptLblData,q=f.OptValData,w=s.options,C=l({elParent:r,newTag:a,newElID:n,sHTML:i,elClasses:o});for(var L in w)sOptionClasses=w[L].classes||"",l({elParent:C,newTag:c,newElID:n+"-"+p+L,elClasses:g+" "+sOptionClasses,attribs:[{aName:T,aVal:w[L].val},{aName:q,aVal:L}],sHTML:w[L].label}).addEventListener("click",t,!1);d&&v(e,s)};(function(){r=i(g),T()})()};